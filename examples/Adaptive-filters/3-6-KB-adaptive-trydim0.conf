# relu: share src blobs?
# lr_rate?
name: "NUHALLCOND-cnn-KB-adaptive"
neuralnet {
layer {
  name: "data0"
  include: kTrain
  type: kMultidstInput
  partition_dim: 0
  store_conf {
    backend: "kvfile"
    path: "/ssd/zhaojing/cnn/NUHALLCOND/subsample1/normrange_1src_KB/train_data.bin"
    batchsize: 10
    shape: 1
    shape: 12
    shape: 1253
    group1_dim: 51
    group2_dim: 133
    group3_dim: 66
    group4_dim: 116
    group5_dim: 107
    group6_dim: 62
    group7_dim: 64
    group8_dim: 68
    group9_dim: 77
    group10_dim: 61
    group11_dim: 69
    group12_dim: 34
    group13_dim: 53
    group14_dim: 26
    group15_dim: 21
    group16_dim: 49
    group17_dim: 46
    group18_dim: 52
    group19_dim: 44
    group20_dim: 38
    group21_dim: 16
  }
}
layer {
  name: "data0"
  include: kTest
  type: kMultidstInput
  partition_dim: 0
  store_conf {
    backend: "kvfile"
    path: "/ssd/zhaojing/cnn/NUHALLCOND/subsample1/normrange_1src_KB/test_data.bin"
    batchsize: 10
    shape: 1
    shape: 12
    shape: 1253
    group1_dim: 51
    group2_dim: 133
    group3_dim: 66
    group4_dim: 116
    group5_dim: 107
    group6_dim: 62
    group7_dim: 64
    group8_dim: 68
    group9_dim: 77
    group10_dim: 61
    group11_dim: 69
    group12_dim: 34
    group13_dim: 53
    group14_dim: 26
    group15_dim: 21
    group16_dim: 49
    group17_dim: 46
    group18_dim: 52
    group19_dim: 44
    group20_dim: 38
    group21_dim: 16
  }
}
layer {
  name: "data0"
  include: kVal
  type: kMultidstInput
  partition_dim: 0
  store_conf {
    backend: "kvfile"
    path: "/ssd/zhaojing/cnn/NUHALLCOND/subsample1/normrange_1src_KB/valid_data.bin"
    batchsize: 10
    shape: 1
    shape: 12
    shape: 1253
    group1_dim: 51
    group2_dim: 133
    group3_dim: 66
    group4_dim: 116
    group5_dim: 107
    group6_dim: 62
    group7_dim: 64
    group8_dim: 68
    group9_dim: 77
    group10_dim: 61
    group11_dim: 69
    group12_dim: 34
    group13_dim: 53
    group14_dim: 26
    group15_dim: 21
    group16_dim: 49
    group17_dim: 46
    group18_dim: 52
    group19_dim: 44
    group20_dim: 38
    group21_dim: 16
  }
}
layer {
  name: "Group1"
  srclayers: "data0"
  param {
    name: "w1"
    init {
      type: kUniform
      low: -0.17149859
      high: 0.17149859
    }
    lr_scale: 1
    wd_scale: 1
  }
  param {
    name: "b1"
    init {
      type: kUniform
      low: -0.17149859
      high: 0.17149859
    }
    lr_scale: 1
    wd_scale: 1
  }
  type: kCudnnConv
  partition_dim: 0
  convolution_conf {
    num_filters: 25
    kernel_x: 51
    kernel_y: 2
    pad_x: 0
    pad_y: 0
    stride_x: 25
    stride_y: 1
  }
}
layer {
  name: "reluGroup1"
  srclayers: "Group1"
  type: kCudnnActivation
  partition_dim: 0
  activation_conf {
    type: RELU
  }
}
layer {
  name: "poolGroup1"
  srclayers: "reluGroup1"
  type: kCudnnPool
  partition_dim: 0
  pooling_conf {
    kernel_y: 2
    kernel_x: 1
    pool: MAX
    pad: 0
    stride: 1
  }
}

layer {
  name: "Group2"
  srclayers: "data0"
  param {
    name: "w2"
    init {
      type: kUniform
      low: -0.10619885
      high: 0.10619885
    }
    lr_scale: 1
    wd_scale: 1
  }
  param {
    name: "b2"
    init {
      type: kUniform
      low: -0.10619885
      high: 0.10619885
    }
    lr_scale: 1
    wd_scale: 1
  }
  type: kCudnnConv
  partition_dim: 0
  convolution_conf {
    num_filters: 25
    kernel_x: 133
    kernel_y: 2
    pad_x: 0
    pad_y: 0
    stride_x: 25
    stride_y: 1
  }
}
layer {
  name: "reluGroup2"
  srclayers: "Group2"
  type: kCudnnActivation
  partition_dim: 0
  activation_conf {
    type: RELU
  }
}
layer {
  name: "poolGroup2"
  srclayers: "reluGroup2"
  type: kCudnnPool
  partition_dim: 0
  pooling_conf {
    kernel_y: 2
    kernel_x: 1
    pool: MAX
    pad: 0
    stride: 1
  }
}

layer {
  name: "Group3"
  srclayers: "data0"
  param {
    name: "w3"
    init {
      type: kUniform
      low: -0.15075567
      high: 0.15075567
    }
    lr_scale: 1
    wd_scale: 1
  }
  param {
    name: "b3"
    init {
      type: kUniform
      low: -0.15075567
      high: 0.15075567
    }
    lr_scale: 1
    wd_scale: 1
  }
  type: kCudnnConv
  partition_dim: 0
  convolution_conf {
    num_filters: 25
    kernel_x: 66
    kernel_y: 2
    pad_x: 0
    pad_y: 0
    stride_x: 25
    stride_y: 1
  }
}
layer {
  name: "reluGroup3"
  srclayers: "Group3"
  type: kCudnnActivation
  partition_dim: 0
  activation_conf {
    type: RELU
  }
}
layer {
  name: "poolGroup3"
  srclayers: "reluGroup3"
  type: kCudnnPool
  partition_dim: 0
  pooling_conf {
    kernel_y: 2
    kernel_x: 1
    pool: MAX
    pad: 0
    stride: 1
  }
}

layer {
  name: "Group4"
  srclayers: "data0"
  param {
    name: "w4"
    init {
      type: kUniform
      low: -0.11371471
      high: 0.11371471
    }
    lr_scale: 1
    wd_scale: 1
  }
  param {
    name: "b4"
    init {
      type: kUniform
      low: -0.11371471
      high: 0.11371471
    }
    lr_scale: 1
    wd_scale: 1
  }
  type: kCudnnConv
  partition_dim: 0
  convolution_conf {
    num_filters: 25
    kernel_x: 116
    kernel_y: 2
    pad_x: 0
    pad_y: 0
    stride_x: 25
    stride_y: 1
  }
}
layer {
  name: "reluGroup4"
  srclayers: "Group4"
  type: kCudnnActivation
  partition_dim: 0
  activation_conf {
    type: RELU
  }
}
layer {
  name: "poolGroup4"
  srclayers: "reluGroup4"
  type: kCudnnPool
  partition_dim: 0
  pooling_conf {
    kernel_y: 2
    kernel_x: 1
    pool: MAX
    pad: 0
    stride: 1
  }
}

layer {
  name: "Group5"
  srclayers: "data0"
  param {
    name: "w5"
    init {
      type: kUniform
      low: -0.11840056
      high: 0.11840056
    }
    lr_scale: 1
    wd_scale: 1
  }
  param {
    name: "b5"
    init {
      type: kUniform
      low: -0.11840056
      high: 0.11840056
    }
    lr_scale: 1
    wd_scale: 1
  }
  type: kCudnnConv
  partition_dim: 0
  convolution_conf {
    num_filters: 25
    kernel_x: 107
    kernel_y: 2
    pad_x: 0
    pad_y: 0
    stride_x: 25
    stride_y: 1
  }
}
layer {
  name: "reluGroup5"
  srclayers: "Group5"
  type: kCudnnActivation
  partition_dim: 0
  activation_conf {
    type: RELU
  }
}
layer {
  name: "poolGroup5"
  srclayers: "reluGroup5"
  type: kCudnnPool
  partition_dim: 0
  pooling_conf {
    kernel_y: 2
    kernel_x: 1
    pool: MAX
    pad: 0
    stride: 1
  }
}

layer {
  name: "Group6"
  srclayers: "data0"
  param {
    name: "w6"
    init {
      type: kUniform
      low: -0.15554275
      high: 0.15554275
    }
    lr_scale: 1
    wd_scale: 1
  }
  param {
    name: "b6"
    init {
      type: kUniform
      low: -0.15554275
      high: 0.15554275
    }
    lr_scale: 1
    wd_scale: 1
  }
  type: kCudnnConv
  partition_dim: 0
  convolution_conf {
    num_filters: 25
    kernel_x: 62
    kernel_y: 2
    pad_x: 0
    pad_y: 0
    stride_x: 25
    stride_y: 1
  }
}
layer {
  name: "reluGroup6"
  srclayers: "Group6"
  type: kCudnnActivation
  partition_dim: 0
  activation_conf {
    type: RELU
  }
}
layer {
  name: "poolGroup6"
  srclayers: "reluGroup6"
  type: kCudnnPool
  partition_dim: 0
  pooling_conf {
    kernel_y: 2
    kernel_x: 1
    pool: MAX
    pad: 0
    stride: 1
  }
}

layer {
  name: "Group7"
  srclayers: "data0"
  param {
    name: "w7"
    init {
      type: kUniform
      low: -0.15309311
      high: 0.15309311
    }
    lr_scale: 1
    wd_scale: 1
  }
  param {
    name: "b7"
    init {
      type: kUniform
      low: -0.15309311
      high: 0.15309311
    }
    lr_scale: 1
    wd_scale: 1
  }
  type: kCudnnConv
  partition_dim: 0
  convolution_conf {
    num_filters: 25
    kernel_x: 64
    kernel_y: 2
    pad_x: 0
    pad_y: 0
    stride_x: 25
    stride_y: 1
  }
}
layer {
  name: "reluGroup7"
  srclayers: "Group7"
  type: kCudnnActivation
  partition_dim: 0
  activation_conf {
    type: RELU
  }
}
layer {
  name: "poolGroup7"
  srclayers: "reluGroup7"
  type: kCudnnPool
  partition_dim: 0
  pooling_conf {
    kernel_y: 2
    kernel_x: 1
    pool: MAX
    pad: 0
    stride: 1
  }
}

layer {
  name: "Group8"
  srclayers: "data0"
  param {
    name: "w8"
    init {
      type: kUniform
      low: -0.14852213
      high: 0.14852213
    }
    lr_scale: 1
    wd_scale: 1
  }
  param {
    name: "b8"
    init {
      type: kUniform
      low: -0.14852213
      high: 0.14852213
    }
    lr_scale: 1
    wd_scale: 1
  }
  type: kCudnnConv
  partition_dim: 0
  convolution_conf {
    num_filters: 25
    kernel_x: 68
    kernel_y: 2
    pad_x: 0
    pad_y: 0
    stride_x: 25
    stride_y: 1
  }
}
layer {
  name: "reluGroup8"
  srclayers: "Group8"
  type: kCudnnActivation
  partition_dim: 0
  activation_conf {
    type: RELU
  }
}
layer {
  name: "poolGroup8"
  srclayers: "reluGroup8"
  type: kCudnnPool
  partition_dim: 0
  pooling_conf {
    kernel_y: 2
    kernel_x: 1
    pool: MAX
    pad: 0
    stride: 1
  }
}

layer {
  name: "Group9"
  srclayers: "data0"
  param {
    name: "w9"
    init {
      type: kUniform
      low: -0.13957263
      high: 0.13957263
    }
    lr_scale: 1
    wd_scale: 1
  }
  param {
    name: "b9"
    init {
      type: kUniform
      low: -0.13957263
      high: 0.13957263
    }
    lr_scale: 1
    wd_scale: 1
  }
  type: kCudnnConv
  partition_dim: 0
  convolution_conf {
    num_filters: 25
    kernel_x: 77
    kernel_y: 2
    pad_x: 0
    pad_y: 0
    stride_x: 25
    stride_y: 1
  }
}
layer {
  name: "reluGroup9"
  srclayers: "Group9"
  type: kCudnnActivation
  partition_dim: 0
  activation_conf {
    type: RELU
  }
}
layer {
  name: "poolGroup9"
  srclayers: "reluGroup9"
  type: kCudnnPool
  partition_dim: 0
  pooling_conf {
    kernel_y: 2
    kernel_x: 1
    pool: MAX
    pad: 0
    stride: 1
  }
}

layer {
  name: "Group10"
  srclayers: "data0"
  param {
    name: "w10"
    init {
      type: kUniform
      low: -0.15681251
      high: 0.15681251
    }
    lr_scale: 1
    wd_scale: 1
  }
  param {
    name: "b10"
    init {
      type: kUniform
      low: -0.15681251
      high: 0.15681251
    }
    lr_scale: 1
    wd_scale: 1
  }
  type: kCudnnConv
  partition_dim: 0
  convolution_conf {
    num_filters: 25
    kernel_x: 61
    kernel_y: 2
    pad_x: 0
    pad_y: 0
    stride_x: 25
    stride_y: 1
  }
}
layer {
  name: "reluGroup10"
  srclayers: "Group10"
  type: kCudnnActivation
  partition_dim: 0
  activation_conf {
    type: RELU
  }
}
layer {
  name: "poolGroup10"
  srclayers: "reluGroup10"
  type: kCudnnPool
  partition_dim: 0
  pooling_conf {
    kernel_y: 2
    kernel_x: 1
    pool: MAX
    pad: 0
    stride: 1
  }
}

layer {
  name: "Group11"
  srclayers: "data0"
  param {
    name: "w11"
    init {
      type: kUniform
      low: -0.14744196
      high: 0.14744196
    }
    lr_scale: 1
    wd_scale: 1
  }
  param {
    name: "b11"
    init {
      type: kUniform
      low: -0.14744196
      high: 0.14744196
    }
    lr_scale: 1
    wd_scale: 1
  }
  type: kCudnnConv
  partition_dim: 0
  convolution_conf {
    num_filters: 25
    kernel_x: 69
    kernel_y: 2
    pad_x: 0
    pad_y: 0
    stride_x: 25
    stride_y: 1
  }
}
layer {
  name: "reluGroup11"
  srclayers: "Group11"
  type: kCudnnActivation
  partition_dim: 0
  activation_conf {
    type: RELU
  }
}
layer {
  name: "poolGroup11"
  srclayers: "reluGroup11"
  type: kCudnnPool
  partition_dim: 0
  pooling_conf {
    kernel_y: 2
    kernel_x: 1
    pool: MAX
    pad: 0
    stride: 1
  }
}

layer {
  name: "Group12"
  srclayers: "data0"
  param {
    name: "w12"
    init {
      type: kUniform
      low: -0.21004201
      high: 0.21004201
    }
    lr_scale: 1
    wd_scale: 1
  }
  param {
    name: "b12"
    init {
      type: kUniform
      low: -0.21004201
      high: 0.21004201
    }
    lr_scale: 1
    wd_scale: 1
  }
  type: kCudnnConv
  partition_dim: 0
  convolution_conf {
    num_filters: 25
    kernel_x: 34
    kernel_y: 2
    pad_x: 0
    pad_y: 0
    stride_x: 25
    stride_y: 1
  }
}
layer {
  name: "reluGroup12"
  srclayers: "Group12"
  type: kCudnnActivation
  partition_dim: 0
  activation_conf {
    type: RELU
  }
}
layer {
  name: "poolGroup12"
  srclayers: "reluGroup12"
  type: kCudnnPool
  partition_dim: 0
  pooling_conf {
    kernel_y: 2
    kernel_x: 1
    pool: MAX
    pad: 0
    stride: 1
  }
}

layer {
  name: "Group13"
  srclayers: "data0"
  param {
    name: "w13"
    init {
      type: kUniform
      low: -0.16823165
      high: 0.16823165
    }
    lr_scale: 1
    wd_scale: 1
  }
  param {
    name: "b13"
    init {
      type: kUniform
      low: -0.16823165
      high: 0.16823165
    }
    lr_scale: 1
    wd_scale: 1
  }
  type: kCudnnConv
  partition_dim: 0
  convolution_conf {
    num_filters: 25
    kernel_x: 53
    kernel_y: 2
    pad_x: 0
    pad_y: 0
    stride_x: 25
    stride_y: 1
  }
}
layer {
  name: "reluGroup13"
  srclayers: "Group13"
  type: kCudnnActivation
  partition_dim: 0
  activation_conf {
    type: RELU
  }
}
layer {
  name: "poolGroup13"
  srclayers: "reluGroup13"
  type: kCudnnPool
  partition_dim: 0
  pooling_conf {
    kernel_y: 2
    kernel_x: 1
    pool: MAX
    pad: 0
    stride: 1
  }
}

layer {
  name: "Group14"
  srclayers: "data0"
  param {
    name: "w14"
    init {
      type: kUniform
      low: -0.24019223
      high: 0.24019223
    }
    lr_scale: 1
    wd_scale: 1
  }
  param {
    name: "b14"
    init {
      type: kUniform
      low: -0.24019223
      high: 0.24019223
    }
    lr_scale: 1
    wd_scale: 1
  }
  type: kCudnnConv
  partition_dim: 0
  convolution_conf {
    num_filters: 25
    kernel_x: 26
    kernel_y: 2
    pad_x: 0
    pad_y: 0
    stride_x: 25
    stride_y: 1
  }
}
layer {
  name: "reluGroup14"
  srclayers: "Group14"
  type: kCudnnActivation
  partition_dim: 0
  activation_conf {
    type: RELU
  }
}
layer {
  name: "poolGroup14"
  srclayers: "reluGroup14"
  type: kCudnnPool
  partition_dim: 0
  pooling_conf {
    kernel_y: 2
    kernel_x: 1
    pool: MAX
    pad: 0
    stride: 1
  }
}

layer {
  name: "Group15"
  srclayers: "data0"
  param {
    name: "w15"
    init {
      type: kUniform
      low: -0.26726124
      high: 0.26726124
    }
    lr_scale: 1
    wd_scale: 1
  }
  param {
    name: "b15"
    init {
      type: kUniform
      low: -0.26726124
      high: 0.26726124
    }
    lr_scale: 1
    wd_scale: 1
  }
  type: kCudnnConv
  partition_dim: 0
  convolution_conf {
    num_filters: 25
    kernel_x: 21
    kernel_y: 2
    pad_x: 0
    pad_y: 0
    stride_x: 25
    stride_y: 1
  }
}
layer {
  name: "reluGroup15"
  srclayers: "Group15"
  type: kCudnnActivation
  partition_dim: 0
  activation_conf {
    type: RELU
  }
}
layer {
  name: "poolGroup15"
  srclayers: "reluGroup15"
  type: kCudnnPool
  partition_dim: 0
  pooling_conf {
    kernel_y: 2
    kernel_x: 1
    pool: MAX
    pad: 0
    stride: 1
  }
}

layer {
  name: "Group16"
  srclayers: "data0"
  param {
    name: "w16"
    init {
      type: kUniform
      low: -0.17496355
      high: 0.17496355
    }
    lr_scale: 1
    wd_scale: 1
  }
  param {
    name: "b16"
    init {
      type: kUniform
      low: -0.17496355
      high: 0.17496355
    }
    lr_scale: 1
    wd_scale: 1
  }
  type: kCudnnConv
  partition_dim: 0
  convolution_conf {
    num_filters: 25
    kernel_x: 49
    kernel_y: 2
    pad_x: 0
    pad_y: 0
    stride_x: 25
    stride_y: 1
  }
}
layer {
  name: "reluGroup16"
  srclayers: "Group16"
  type: kCudnnActivation
  partition_dim: 0
  activation_conf {
    type: RELU
  }
}
layer {
  name: "poolGroup16"
  srclayers: "reluGroup16"
  type: kCudnnPool
  partition_dim: 0
  pooling_conf {
    kernel_y: 2
    kernel_x: 1
    pool: MAX
    pad: 0
    stride: 1
  }
}

layer {
  name: "Group17"
  srclayers: "data0"
  param {
    name: "w17"
    init {
      type: kUniform
      low: -0.18057878
      high: 0.18057878
    }
    lr_scale: 1
    wd_scale: 1
  }
  param {
    name: "b17"
    init {
      type: kUniform
      low: -0.18057878
      high: 0.18057878
    }
    lr_scale: 1
    wd_scale: 1
  }
  type: kCudnnConv
  partition_dim: 0
  convolution_conf {
    num_filters: 25
    kernel_x: 46
    kernel_y: 2
    pad_x: 0
    pad_y: 0
    stride_x: 25
    stride_y: 1
  }
}
layer {
  name: "reluGroup17"
  srclayers: "Group17"
  type: kCudnnActivation
  partition_dim: 0
  activation_conf {
    type: RELU
  }
}
layer {
  name: "poolGroup17"
  srclayers: "reluGroup17"
  type: kCudnnPool
  partition_dim: 0
  pooling_conf {
    kernel_y: 2
    kernel_x: 1
    pool: MAX
    pad: 0
    stride: 1
  }
}

layer {
  name: "Group18"
  srclayers: "data0"
  param {
    name: "w18"
    init {
      type: kUniform
      low: -0.16984155
      high: 0.16984155
    }
    lr_scale: 1
    wd_scale: 1
  }
  param {
    name: "b18"
    init {
      type: kUniform
      low: -0.16984155
      high: 0.16984155
    }
    lr_scale: 1
    wd_scale: 1
  }
  type: kCudnnConv
  partition_dim: 0
  convolution_conf {
    num_filters: 25
    kernel_x: 52
    kernel_y: 2
    pad_x: 0
    pad_y: 0
    stride_x: 25
    stride_y: 1
  }
}
layer {
  name: "reluGroup18"
  srclayers: "Group18"
  type: kCudnnActivation
  partition_dim: 0
  activation_conf {
    type: RELU
  }
}
layer {
  name: "poolGroup18"
  srclayers: "reluGroup18"
  type: kCudnnPool
  partition_dim: 0
  pooling_conf {
    kernel_y: 2
    kernel_x: 1
    pool: MAX
    pad: 0
    stride: 1
  }
}

layer {
  name: "Group19"
  srclayers: "data0"
  param {
    name: "w19"
    init {
      type: kUniform
      low: -0.18463724
      high: 0.18463724
    }
    lr_scale: 1
    wd_scale: 1
  }
  param {
    name: "b19"
    init {
      type: kUniform
      low: -0.18463724
      high: 0.18463724
    }
    lr_scale: 1
    wd_scale: 1
  }
  type: kCudnnConv
  partition_dim: 0
  convolution_conf {
    num_filters: 25
    kernel_x: 44
    kernel_y: 2
    pad_x: 0
    pad_y: 0
    stride_x: 25
    stride_y: 1
  }
}
layer {
  name: "reluGroup19"
  srclayers: "Group19"
  type: kCudnnActivation
  partition_dim: 0
  activation_conf {
    type: RELU
  }
}
layer {
  name: "poolGroup19"
  srclayers: "reluGroup19"
  type: kCudnnPool
  partition_dim: 0
  pooling_conf {
    kernel_y: 2
    kernel_x: 1
    pool: MAX
    pad: 0
    stride: 1
  }
}

layer {
  name: "Group20"
  srclayers: "data0"
  param {
    name: "w20"
    init {
      type: kUniform
      low: -0.19867985
      high: 0.19867985
    }
    lr_scale: 1
    wd_scale: 1
  }
  param {
    name: "b20"
    init {
      type: kUniform
      low: -0.19867985
      high: 0.19867985
    }
    lr_scale: 1
    wd_scale: 1
  }
  type: kCudnnConv
  partition_dim: 0
  convolution_conf {
    num_filters: 25
    kernel_x: 38
    kernel_y: 2
    pad_x: 0
    pad_y: 0
    stride_x: 25
    stride_y: 1
  }
}
layer {
  name: "reluGroup20"
  srclayers: "Group20"
  type: kCudnnActivation
  partition_dim: 0
  activation_conf {
    type: RELU
  }
}
layer {
  name: "poolGroup20"
  srclayers: "reluGroup20"
  type: kCudnnPool
  partition_dim: 0
  pooling_conf {
    kernel_y: 2
    kernel_x: 1
    pool: MAX
    pad: 0
    stride: 1
  }
}

layer {
  name: "Group21"
  srclayers: "data0"
  param {
    name: "w21"
    init {
      type: kUniform
      low: -0.30618622
      high: 0.30618622
    }
    lr_scale: 1
    wd_scale: 1
  }
  param {
    name: "b21"
    init {
      type: kUniform
      low: -0.30618622
      high: 0.30618622
    }
    lr_scale: 1
    wd_scale: 1
  }
  type: kCudnnConv
  partition_dim: 0
  convolution_conf {
    num_filters: 25
    kernel_x: 16
    kernel_y: 2
    pad_x: 0
    pad_y: 0
    stride_x: 25
    stride_y: 1
  }
}
layer {
  name: "reluGroup21"
  srclayers: "Group21"
  type: kCudnnActivation
  partition_dim: 0
  activation_conf {
    type: RELU
  }
}
layer {
  name: "poolGroup21"
  srclayers: "reluGroup21"
  type: kCudnnPool
  partition_dim: 0
  pooling_conf {
    kernel_y: 2
    kernel_x: 1
    pool: MAX
    pad: 0
    stride: 1
  }
}
layer {
  name: "concatelayer"
  srclayers: "poolGroup1"
  srclayers: "poolGroup2"
  srclayers: "poolGroup3"
#  srclayers: "poolGroup4"
#  srclayers: "poolGroup5"
#  srclayers: "poolGroup6"
#  srclayers: "poolGroup7"
#  srclayers: "poolGroup8"
#  srclayers: "poolGroup9"
#  srclayers: "poolGroup10"
#  srclayers: "poolGroup11"
#  srclayers: "poolGroup12"
#  srclayers: "poolGroup13"
#  srclayers: "poolGroup14"
#  srclayers: "poolGroup15"
#  srclayers: "poolGroup16"
#  srclayers: "poolGroup17"
#  srclayers: "poolGroup18"
#  srclayers: "poolGroup19"
#  srclayers: "poolGroup20"
#  srclayers: "poolGroup21"
  type: kConcate
  concate_conf {
    concate_dim: 0
    num_concates: 3
  }
}
layer {
  name: "ip1"
  srclayers: "concatelayer"
  param {
    name: "wip1"
    init {
      type: kUniform
      low: -0.028767798
      high: 0.028767798
    }
    lr_scale: 1
    wd_scale: 1
  }
  param {
    name: "bip1"
    init {
      type: kUniform
      low: -0.028767798
      high: 0.028767798
    }
    lr_scale: 1
    wd_scale: 1
  }
  type: kInnerProduct
  partition_dim: 0
  innerproduct_conf {
    num_output: 2000
  }
}

layer {
    name: "reluip1"
    type: kCudnnActivation
    activation_conf {
      type: RELU
    }
    # share_src_blobs: true
    srclayers: "ip1"
}

layer {
    name: "drop1"
    type: kDropout
    srclayers: "reluip1"
    dropout_conf{
      dropout_ratio: 0.5
    }
}

layer {
  name: "ip2"
  srclayers: "drop1"
  param {
    name: "wip2"
    init {
      type: kUniform
      low: -0.053452248
      high: 0.053452248
    }
    lr_scale: 1
    wd_scale: 1
  }
  param {
    name: "bip2"
    init {
      type: kUniform
      low: -0.053452248
      high: 0.053452248
    }
    lr_scale: 1
    wd_scale: 1
  }
  type: kInnerProduct
  partition_dim: 0
  innerproduct_conf {
    num_output: 100
  }
}

layer {
    name: "reluip2"
    type: kCudnnActivation
    activation_conf {
      type: RELU
    }
    # share_src_blobs: true
    srclayers: "ip2"
}

layer {
    name: "drop2"
    type: kDropout
    srclayers: "reluip2"
    dropout_conf{
      dropout_ratio: 0.5
    }
}

layer {
  name: "ip3"
  srclayers: "drop2"
  param {
    name: "wip3"
    init {
      type: kUniform
      low: -0.242535625
      high: 0.242535625
    }
    lr_scale: 1
    wd_scale: 1
  }
  param {
    name: "bip3"
    init {
      type: kUniform
      low: -0.242535625
      high: 0.242535625
    }
    lr_scale: 1
    wd_scale: 1
  }
  type: kInnerProduct
  partition_dim: 0
  innerproduct_conf {
    num_output: 2
  }
}

layer {
  name: "softmax2"
  srclayers: "ip3"
  srclayers: "data0"
  # srclayers: "bip3"
  type: kCudnnSoftmaxLoss
  partition_dim: 0
  softmaxloss_conf {
    topk: 1
  }
}

}
train_one_batch {
  alg: kBP
}
updater {
  type: kAdaGrad
  learning_rate{
    base_lr: 0.01
    type: kFixed
  }
  momentum: 0.9
  weight_decay: 0.01
}
cluster {
  nworker_groups: 1
  nserver_groups: 1
  nworkers_per_group: 1
  nservers_per_group: 1
  nworkers_per_procs: 1
  nservers_per_procs: 1
  workspace: "/ssd/zhaojing/cnn/NUHALLCOND/result/3-7-adaptive-filter/subsample1"
}
train_steps: 12000
disp_freq: 1200
gpu: 2
test_freq: 20
test_steps: 30
validate_freq: 20
validate_steps: 20
checkpoint_freq: 12000
